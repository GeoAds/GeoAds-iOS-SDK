<html><head><title>GeoAds iOS SDK Documentation</title><style type="text/css">ol{margin:0;padding:0}p{margin:0}.c30{list-style-type:circle;margin:0;padding:0}.c27{width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c20{list-style-type:disc;margin:0;padding:0}.c11{text-indent:36pt;margin-left:72pt}.c4{text-indent:36pt;text-align:justify}.c8{text-indent:36pt;margin-left:108pt}.c12{text-indent:36pt;text-align:center}.c1{color:#ff00ff;font-family:Courier New}.c25{padding-left:0pt;margin-left:72pt}.c28{color:inherit;text-decoration:inherit}.c16{padding-left:0pt;margin-left:36pt}.c26{color:#444444;font-style:italic}.c23{color:#000099;text-decoration:underline}.c0{color:#3d85c6;font-family:Courier New}.c15{margin-left:144pt}.c22{margin-left:36pt}.c13{color:#38761d}.c3{font-family:Courier New}.c18{margin-left:108pt}.c32{text-align:center}.c7{color:#ff0000}.c19{text-indent:36pt}.c5{text-align:justify}.c17{color:#0000ff}.c10{font-weight:bold}.c2{direction:ltr}.c6{height:11pt}.c31{color:#3d85c6}.c33{margin-left:72pt}.c9{color:#783f04}.c14{color:#351c75}.c21{color:#0b5394}.c29{font-size:12pt}.c24{font-size:14pt}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24pt;color:#000000;font-size:24pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;color:#000000;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h5{padding-top:11pt;color:#000000;font-size:11pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;color:#000000;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}</style></head><body class="c27"><p class="c2 c32"><span class="c10 c24">GeoAds iOS SDK Documentation</span></p><p class="c2 c6"><span></span></p><p class="c4 c2"><span>This document will explain how to integrate the GeoAds iOS SDK into your application. You only need a few lines of code to get it going. This document also contains an overview of the classes available in the GeoAds iOS SDK. We start by showing how to use the SDK, and then we will present all the contents.</span></p><p class="c4 c2 c6"><span></span></p><p class="c2 c12"><span class="c10 c29">How to integrate GeoAds iOS SDK into your application in a few steps</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>In this section, we suppose that you already know Objective-C programming and you have already used XCode to create and build a project. If you need to learn Objective-C or how to use the XCode IDE, go to: </span><span class="c23"><a class="c28" href="http://developer.apple.com/devcenter/ios/index.action">iOS Developer Center</a></span><span>.</span></p><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To be able to complete these steps, you also need to download the GeoAds iOS SDK from our site: </span><span class="c7">[de pus link-ul catre iOS SDK]</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>1. Add the GeoAdsSDK folder to your XCode project. In Project Navigator, right-click on your project title. Select </span><span class="c26">Add files to &ldquo;YourProjectName&rdquo;</span><span>&nbsp;option, choose the GeoAdsSDK folder and click </span><span class="c26">Add</span><span>. </span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>2. GeoAds SDK uses the Foundation, UIKit and CoreLocation frameworks. Since Foundation and UIKit should already be included in your project, you have to add the CoreLocation framework to your project. In Project Navigator, click on your project title. Select your target, then choose the </span><span class="c26">Build Phases </span><span>tab. Expand </span><span class="c26">Link Binary With Libraries</span><span>, click </span><span class="c26">+</span><span>. Choose the CoreLocation framework and click </span><span class="c26">Add</span><span>.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>3. Import the GeoAds SDK into your application delegate header file or in any file you wish to make use of the SDK.</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c5 c2"><span class="c3 c9">#import</span><span class="c3">&nbsp;</span><span class="c3 c7">&quot;GeoAds.h&quot;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@interface</span><span class="c3">&nbsp;YourAppDelegate : NSObject &lt;</span><span class="c3 c14">UIApplicationDelegate</span><span class="c3">&gt;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>4</span><span>. The class that lets you send requests to our server is </span><span class="c3 c21">AdsConnect</span><span>. You must declare an object of this type. You can declare it as property if you want.</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c5 c2"><span class="c3 c9">#import</span><span class="c3">&nbsp;</span><span class="c3 c7">&quot;GeoAds.h&quot;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@interface</span><span class="c3">&nbsp;YourAppDelegate : NSObject &lt;</span><span class="c3 c14">UIApplicationDelegate</span><span class="c3">&gt;</span></p><p class="c5 c2"><span class="c3">{</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c4 c2"><span class="c0">AdsConnect</span><span class="c3">&nbsp;*adsService;</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@property</span><span class="c3">&nbsp;(</span><span class="c1">nonatomic</span><span class="c3">, </span><span class="c1">retain</span><span class="c3">) </span><span class="c0">AdsConnect</span><span class="c3">&nbsp;*adsService;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>5</span><span>. Don&rsquo;t forget to synthesize and release the </span><span class="c0">adsService</span><span>&nbsp;property.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@implementation</span><span class="c3">&nbsp;YourAppDelegate</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@synthesize</span><span class="c3">&nbsp;adsService;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)dealloc</span></p><p class="c5 c2"><span class="c3">{</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c4 c2"><span class="c3">[</span><span class="c0">adsService</span><span class="c3">&nbsp;</span><span class="c3 c14">release</span><span class="c3">];</span></p><p class="c5 c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span class="c1">super</span><span class="c3">&nbsp;</span><span class="c3 c14">dealloc</span><span class="c3">];</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>6</span><span>. Of course, you have to initialize the </span><span class="c0">AdsConnect</span><span>&nbsp;object to be able to use it. You can set your app key at initialization. At this moment you should already have an app key. If you don&rsquo;t, you should follow these steps to obtain your app key: </span><span class="c7">[de pus link-ul carte how to obtain your app key]</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@implementation</span><span class="c3">&nbsp;YourAppDelegate</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)applicationDidFinishLaunching:(UIApplication *)application</span></p><p class="c5 c2"><span class="c3">{</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c4 c2"><span class="c1">self</span><span class="c3">.</span><span class="c0">adsService</span><span class="c3">&nbsp;= [[</span><span class="c0">AdsConnect</span><span class="c3">&nbsp;</span><span class="c3 c14">alloc</span><span class="c3">] </span></p><p class="c15 c5 c2"><span class="c3">&nbsp; &nbsp;</span><span class="c3 c21">initWithAppKey</span><span class="c3">:</span><span class="c3 c7">@&quot;your app key&quot;</span><span class="c3">];</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>7</span><span>. Now you should be able to send requests to the GeoAds server, but you need a delegate that receives every server response. Your delegate object should conform to the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol. Add the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;to the list of implemented protocols:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@interface</span><span class="c3">&nbsp;YourAppDelegate : NSObject </span></p><p class="c4 c15 c2"><span class="c3">&lt;</span><span class="c3 c14">UIApplicationDelegate</span><span class="c3">, </span><span class="c0">AdsConnectDelegate</span><span class="c3">&gt;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>Set the delegate object after you initialize the </span><span class="c0">AdsConnect</span><span>&nbsp;object in the implemenation:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@implementation</span><span class="c3">&nbsp;YourAppDelegate</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)applicationDidFinishLaunching:(</span><span class="c3 c14">UIApplication</span><span class="c3">&nbsp;*)application</span></p><p class="c5 c2"><span class="c3">{</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c4 c2"><span class="c1">self</span><span class="c3">.</span><span class="c0">adsService</span><span class="c3">&nbsp;= [[</span><span class="c0">AdsConnect</span><span class="c3">&nbsp;</span><span class="c3 c14">alloc</span><span class="c3">] </span></p><p class="c15 c5 c2"><span class="c3">&nbsp; &nbsp;</span><span class="c3 c21">initWithAppKey</span><span class="c3">:</span><span class="c3 c7">@&quot;your app key&quot;</span><span class="c3">];</span></p><p class="c4 c2"><span class="c1">self</span><span class="c3">.</span><span class="c0">adsService</span><span class="c3">.</span><span class="c0">delegate</span><span class="c3">&nbsp;= </span><span class="c1">self</span><span class="c3">;</span></p><p class="c4 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>8</span><span>. You are now ready to request ads from our server. You can use one of the request methods implemented by the </span><span class="c0">AdsConnect</span><span>&nbsp;object. Here is an example:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">[</span><span class="c0">adsService</span><span class="c3">&nbsp;</span><span class="c3 c21">requestAdsFromLatitude</span><span class="c3">:</span><span class="c3 c17">47.6197</span><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c5 c2 c18"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c21">longitude</span><span class="c3">:</span><span class="c3 c17">-122.32287</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span class="c3 c21">limit</span><span class="c3">:</span><span class="c3 c17">10</span><span class="c3">];</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>This call requests up to 10 ads near the location determined by 47.6197 latitude and -122.32287 longitude. These coordinates should represent the location of the device that requested the ads.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>9</span><span>. You must implement the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;methods to receive the ads from our server. The </span><span class="c1">@selector</span><span class="c3">(adsRequestDidFailWithError:)</span><span>&nbsp;will be called when the request failed to reach the server. The </span><span class="c1">@selector</span><span class="c3">(adsRequestDidLoad:)</span><span>&nbsp;will be called when the server is able to return a response to your request. However, the server may not always return ads. This can happen if you app key is invalid or if there are no ads near the requested location.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@implementation</span><span class="c3">&nbsp;YourAppDelegate</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c2"><span class="c3 c9"># pragma mark AdsConnect delegate methods</span></p><p class="c2 c6"><span class="c3"></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidFailWithError:(</span><span class="c3 c14">NSError</span><span class="c3">*)error</span></p><p class="c2"><span class="c3">{</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;%@&quot;</span><span class="c3">, [error </span><span class="c3 c14">localizedDescription</span><span class="c3">]);</span></p><p class="c2"><span class="c3">}</span></p><p class="c2 c6"><span class="c3"></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidLoad:(</span><span class="c1">id</span><span class="c3">)result</span></p><p class="c2"><span class="c3">{</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;Got results from ads server: &quot;</span><span class="c3">);</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSArray</span><span class="c3">&nbsp;</span><span class="c3 c14">class</span><span class="c3">]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">for</span><span class="c3">&nbsp;(</span><span class="c0">Ad</span><span class="c3">&nbsp;*ad </span><span class="c1">in</span><span class="c3">&nbsp;result)</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c11 c2"><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;Ad with title %@ and url %@&quot;</span><span class="c3">, </span></p><p class="c8 c2"><span class="c3">ad.</span><span class="c0">title</span><span class="c3">, </span></p><p class="c2 c8"><span class="c3">[ad.</span><span class="c0">url</span><span class="c3">&nbsp;</span><span class="c3 c14">absoluteString</span><span class="c3">]);</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">else if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSString class</span><span class="c3">]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;Failed to return ads for reason: %@&quot;</span><span class="c3">, result);</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>Note that you must release the result object yourself when you don&rsquo;t need it anymore.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>10</span><span>. You can access any property of an </span><span class="c0">Ad</span><span>: </span><span class="c0">title</span><span>, </span><span class="c0">subtitle</span><span>, </span><span class="c0">description</span><span>, </span><span class="c0">coordinate</span><span>, </span><span class="c0">url</span><span>, </span><span class="c0">imageUrl</span><span>, </span><span class="c0">thumbnailUrl</span><span>, </span><span class="c0">image</span><span>, </span><span class="c0">thumbnail</span><span>. Note that when you receive an Ad from the server, the </span><span class="c0">image</span><span>&nbsp;and </span><span class="c0">thumbnail</span><span>&nbsp;properties are </span><span class="c1">nil</span><span>. Take a look at the GeoAds iOS SDK Overview to understand how to better manipulate </span><span class="c0">Ad</span><span>&nbsp;objects. For now, you should know that you have to download the thumbnail or image yourself, when you need them. There are two ways to do this:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span class="c10">Synchronous</span><span>: y</span><span>ou can use the </span><span class="c0">Ad</span><span>&nbsp;instance methods </span><span>to get the images</span><span>:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">[ad </span><span class="c3 c21">downloadThumbnail</span><span class="c3">];</span></p><p class="c5 c2"><span class="c3">[ad </span><span class="c3 c21">downloadImage</span><span class="c3">];</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>Note that you should call these methods when the </span><span class="c0">imageUrl</span><span>&nbsp;and </span><span class="c0">thumbnailUrl</span><span>&nbsp;properties are already set. Any </span><span class="c0">Ad</span><span>&nbsp;returned by the server has the </span><span class="c0">imageUrl</span><span>&nbsp;and </span><span class="c0">thumbnailUrl</span><span>&nbsp;properly set.</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span class="c10">Asynchronous</span><span>: you can send a request through the </span><span class="c0">AdsConnect</span><span>&nbsp;object:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">[</span><span class="c0">adsService</span><span class="c3">&nbsp;</span><span class="c3 c21">requestAdImageFromURL</span><span class="c3">:ad.</span><span class="c0">thumbnailUrl</span><span class="c3">];</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c5 c2"><span>To receive the image for this request, you must check for an </span><span class="c3 c14">NSDictionary</span><span>&nbsp;result in </span><span class="c1">@selector</span><span class="c3">(adsRequestDidLoad:)</span><span>&nbsp;delegate method:</span></p><p class="c5 c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidLoad:(</span><span class="c1">id</span><span class="c3">)result</span></p><p class="c2"><span class="c3">{</span></p><p class="c19 c2"><span class="c1">if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSDictionary</span><span class="c3">&nbsp;class]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*imageURL = [result </span><span class="c3 c14">objectForKey</span><span class="c3">:</span><span class="c3 c7">@&quot;url&quot;</span><span class="c3">];</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">UIImage</span><span class="c3">&nbsp;*image = [result </span><span class="c3 c14">objectForKey</span><span class="c3">:</span><span class="c3 c7">@&quot;image&quot;</span><span class="c3">];</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;Received image from URL: \n%@&quot;</span><span class="c3">,</span></p><p class="c2 c11"><span class="c3">[imageURL </span><span class="c3 c14">absoluteString</span><span class="c3">]);</span></p><p class="c2 c33"><span class="c13 c3">// release the result object when I don&rsquo;t need it</span></p><p class="c2"><span class="c3">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[result </span><span class="c3 c14">release</span><span class="c3">];</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c3">}</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>1</span><span>1</span><span>. At this point, you can build your own view to display ads. Building your own view means that you are able to integrate the ads as a part of your application. When the user clicks an ad to see detailed information about that ad, you should open the ad URL (using the </span><span class="c0">url</span><span>&nbsp;property of the </span><span class="c0">Ad</span><span>&nbsp;object). The easiest way to do this is using a </span><span class="c3 c14">UIWebView</span><span>&nbsp;object. If we suppose the </span><span class="c3 c14">UIWebView</span><span>&nbsp;is already created, all you have to do is: </span></p><p class="c2 c6"><span></span></p><p class="c2"><span class="c3 c14">NSURLRequest</span><span class="c3">&nbsp;*adRequestObj = [</span><span class="c3 c14">NSURLRequest</span><span class="c3">&nbsp;</span><span class="c3 c14">requestWithURL</span><span class="c3">:ad.</span><span class="c0">url</span><span class="c3">];</span></p><p class="c5 c2"><span class="c3">[</span><span class="c0">adDetailsWebView</span><span class="c3">&nbsp;</span><span class="c3 c14">loadRequest</span><span class="c3">:adRequestObj];</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>This is all you need to do to integrate ads in your app. We advise you to look over the SDK implementation to get an idea of what you can do with it. If you need more details you should go ahead and read the next section that gives an overview of the entire GeoAds iOS SDK. </span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span class="c10 c29">GeoAds iOS SDK Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>In this section, we will take a look at the classes available in the GeoAds iOS SDK. If you are looking for a quick integration of the SDK in your app, you should read the previous section. There are only a few classes in this SDK that handle all the jobs:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>Class </span><span class="c0">Ad</span><span>&nbsp;(declared in </span><span class="c3">Ad.h</span><span>) - This the class that models an ad. It has properties to access all the ad attributes (title, description, url, etc.) and methods to synch</span><span>ronously </span><span>download the associated image or thumbnail.</span></li><li class="c16 c5 c2"><span>Class </span><span class="c0">AdsConnect</span><span>&nbsp;(declared in </span><span class="c3">AdsConnect.h</span><span>) - This class has methods to handle server requests and responses. There are several methods that send requests to the ads server. To receive ads from the server, you need to set a delegate object that implements </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol. </span><span>This class also provides a method to asynchronously download images or thumbnails of ads.</span></li><li class="c16 c5 c2"><span>Protocol </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;(declared in </span><span class="c3">AdsConnect.h</span><span>) - This protocol declares two methods that your </span><span class="c0">AdsConnect</span><span>&nbsp;delegate object should implement.</span></li><li class="c16 c5 c2"><span>Class </span><span class="c0">AdImageConnect</span><span>&nbsp;(declared in </span><span class="c3">AdImageConnect.h</span><span>) - This is an internal class that handles image requests. It is used by the </span><span class="c0">AdsConnect</span><span>&nbsp;object to send multiple (parallel) image requests. You can use this class as a helper if you decide to handle image requests yourself.</span></li><li class="c16 c5 c2"><span>Protocol </span><span class="c0">AdImageConnectDelegate</span><span>&nbsp;(declared in </span><span class="c3">AdImageConnect.h</span><span>) - This is an internal protocol that declares two methods that the </span><span class="c0">AdImageConnect</span><span>&nbsp;delegate object should implement. The </span><span class="c0">AdsConnect</span><span>&nbsp;object conforms to this protocol and implements the two methods.</span></li><li class="c16 c5 c2"><span>Class </span><span class="c0">AdsXMLParser</span><span>&nbsp;(declared in </span><span class="c3">AdsXMLParser.h</span><span>) - This is an internal class that parses the server XML response into an array of ads. Each object in this array is of </span><span class="c0">Ad</span><span>&nbsp;class. You can use methods of this class if you decide to handle XML responses yourself.</span></li></ol><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span class="c10">Class </span><span class="c0 c10">Ad</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>The </span><span class="c0">Ad</span><span>&nbsp;class is used for modeling ad objects. Usually </span><span class="c0">Ad</span><span>&nbsp;objects are created for you, when you request ads from the server. The </span><span class="c0">AdsConnect</span><span>&nbsp;object parses the server XML response and creates an array of </span><span class="c0">Ad</span><span>&nbsp;objects. This array is passed to your </span><span class="c0">AdsConnect</span><span>&nbsp;delegate.</span></p><p class="c4 c2"><span>After initialization, you can access almost all properties of the </span><span class="c0">Ad</span><span>&nbsp;object:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span class="c0">coordinate</span><span>&nbsp;(</span><span class="c3 c14">CLLocationCoordinate2D</span><span>) - gives the ad&rsquo;s coordinates. Note that </span><span class="c3 c14">latitude</span><span>&nbsp;and </span><span class="c3 c14">longitude</span><span>&nbsp;are properties of the </span><span class="c0">coordinate</span><span>&nbsp;object. You can access these properties as usual:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">ad.</span><span class="c0">coordinate</span><span class="c3">.</span><span class="c3 c14">latitude</span></p><p class="c5 c2"><span class="c3">ad.</span><span class="c0">coordinate</span><span class="c3">.</span><span class="c3 c14">longitude</span></p><p class="c5 c2 c6"><span></span></p><ol class="c20" start="2"><li class="c16 c5 c2"><span class="c0">title</span><span>&nbsp;(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*</span><span>) - The ad&rsquo;s title (a few words ~ 40-60 characters). </span></li><li class="c16 c5 c2"><span class="c0">subtitle</span><span>&nbsp;(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*</span><span>) - The ad&rsquo;s subtitle (a phrase ~ 80-100 characters).</span></li><li class="c16 c5 c2"><span class="c0">description</span><span>&nbsp;(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*</span><span>) - This is the ad&rsquo;s description. It should have all the details of the ad (a small text ~ 120-200 characters).</span></li><li class="c16 c5 c2"><span class="c0">url</span><span>&nbsp;(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*</span><span>) - The ad&rsquo;s unique URL. You should open this URL when the user wants detailed information about this </span><span class="c0">Ad</span><span>. When you open this URL, a click on this </span><span class="c0">Ad</span><span>&nbsp;will be registered for your app key.</span></li><li class="c16 c5 c2"><span class="c0">imageUrl</span><span>&nbsp;(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*</span><span>) - the </span><span class="c0">Ad</span><span>&rsquo;s image URL. The image is 200x200 pixels in size. You can use the </span><span class="c1">@selector</span><span class="c3">(downloadImage)</span><span>&nbsp;method to download and attach the image to the </span><span class="c0">Ad</span><span>&nbsp;object. For any other use, you can access the image URL directly.</span></li><li class="c16 c5 c2"><span class="c0">thumbnailUrl</span><span>&nbsp;(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*</span><span>) - the </span><span class="c0">Ad</span><span>&rsquo;s thumbnail URL. The thumbnail image is 50x50 pixels in size. You can use the </span><span class="c1">@selector</span><span class="c3">(downloadThumbnail)</span><span>&nbsp;method to download and attach the thumbnail to the </span><span class="c0">Ad</span><span>&nbsp;object. For any other use, you can access the thumbnail URL directly.</span></li></ol><p class="c4 c2"><span>When the </span><span class="c0">AdsConnect</span><span>&nbsp;object builds the ads array (before passing it to your delegate object), the </span><span class="c0">image</span><span>&nbsp;and </span><span class="c0">thumbnail</span><span>&nbsp;properties are not set. The two images are not downloaded by default. One reason for this is that you may not need the images (or at least you may not need them both). The second reason is that this saves up loading time. The </span><span class="c0">Ad</span><span>&nbsp;object has two instance methods to synchronously download the associated images:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c1">@interface</span><span class="c3">&nbsp;Ad : NSObject</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)downloadThumbnail;</span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)downloadImage;</span></p><p class="c5 c2"><span class="c3">...</span></p><p class="c5 c2"><span class="c1">@end</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>To access the associated images the </span><span class="c0">Ad</span><span>&nbsp;object has two properties:</span></p><ol class="c20" start="8"><li class="c16 c5 c2"><span class="c0">image</span><span>&nbsp;(</span><span class="c3 c14">UIImage</span><span class="c3">&nbsp;*</span><span>) - the </span><span class="c0">Ad</span><span>&rsquo;s associated image of size 200x200 pixels.</span></li><li class="c16 c5 c2"><span class="c0">thumbnail</span><span>&nbsp;(</span><span class="c3 c14">UIImage</span><span class="c3">&nbsp;*</span><span>) - the </span><span class="c0">Ad</span><span>&rsquo;s thumbnail of size 50x50 pixels.</span></li></ol><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You should use the </span><span class="c0">Ad</span><span>&nbsp;model to build your own view of the ad. This allows you to better integrate ads into your application. You can even get to the point where the user is not able to distinguish ads from other app content. This will ensure a greater click rate, and of course more profit for you.</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span class="c10">Class </span><span class="c0 c10">AdsConnect</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>The </span><span class="c0">AdsConnect</span><span>&nbsp;class is used </span><span>for sending requests</span><span>&nbsp;</span><span>to</span><span>&nbsp;the ads server. To access the server you should initialize an </span><span class="c0">AdsConnect</span><span>&nbsp;object with your app key. You also need to set the delegate object before sending any request. The delegate object should conform to the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol.</span></p><p class="c4 c2"><span>Use one of the following methods to request ads from our server. Note that each of the following methods returns a boolean value. Each method call will return </span><span class="c1">YES</span><span>&nbsp;when the request was successfully sent to the server. If the method returns </span><span class="c1">NO</span><span>, one of the following reasons may prevent it from sending the request to the ads server:</span></p><ol class="c30" start="1"><li class="c25 c5 c2"><span>a previous request didn&rsquo;t finish loading. Wait until your delegate object receives a response from the server.</span></li><li class="c5 c2 c25"><span>your app key is not properly set. You should follow these steps to obtain your app key: </span><span class="c7">[de pus link-ul carte how to obtain your app key]</span></li><li class="c25 c5 c2"><span>you must set the delegate object. Your delegate object should conform to the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol.</span></li></ol><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requesting ads from the server:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request ads from a specific location use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLocation:(</span><span class="c3 c14">CLLocationCoordinate2D</span><span class="c3">)coordinate;</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>Calling this method will return only one </span><span class="c0">Ad</span><span>. Calling this method several times from the exact same location may return different ads. The frequency of an ad is determined by its performance.</span></p><p class="c4 c2"><span>The location is given through the </span><span class="c3">coordinate</span><span>&nbsp;parameter. If you need to create coordinate objects, use this code:</span></p><p class="c4 c2 c6"><span></span></p><p class="c5 c2"><span class="c3 c14">CLLocationCoordinate2D</span><span class="c3">&nbsp;coordinate = </span></p><p class="c15 c5 c2"><span class="c3">&nbsp;</span><span class="c3 c14">CLLocationCoordinate2DMake</span><span class="c3">(latitude, longitude);</span></p><p class="c5 c2"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If you use a </span><span class="c3 c14">CLLocationManager</span><span>&nbsp;to update the device location, you can get the coordinate property like this:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">newLocation.</span><span class="c3 c14">coordinate</span></p><p class="c5 c2 c6"><span></span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request more ads from a specific location use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLocation:(</span><span class="c3 c14">CLLocationCoordinate2D</span><span class="c3">)coordinate</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;limit:(</span><span class="c3 c14">NSInteger</span><span class="c3">)limit;</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c4 c2"><span>Calling this method will return up to </span><span class="c3">limit</span><span>&nbsp;</span><span class="c0">Ad</span><span>s. The </span><span class="c3">limit</span><span>&nbsp;parameter should be a number between 1 and 30. Calling this method several times from the exact same location may return different ads and the ads can be sorted randomly. The frequency and the position of an ad is determined by its performance.</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request more ads sorted by a specific criterion from a specific location, use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLocation:(</span><span class="c3 c14">CLLocationCoordinate2D</span><span class="c3">)coordinate</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;limit:(</span><span class="c3 c14">NSInteger</span><span class="c3">)limit</span></p><p class="c4 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">sortBy:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)sortOption;</span></p><p class="c4 c2 c6"><span class="c3"></span></p><p class="c4 c2"><span>Calling this method will return up to </span><span class="c3">limit</span><span>&nbsp;</span><span class="c0">Ad</span><span>s. The </span><span class="c3">limit</span><span>&nbsp;parameter should be a number between 1 and 30. The </span><span class="c3">sortOption</span><span>&nbsp;parameter can be set to </span><span class="c3 c7">@</span><span class="c3 c7">&quot;</span><span class="c3 c7">performance</span><span class="c3 c7">&quot;</span><span>&nbsp;or </span><span class="c3 c7">@</span><span class="c3 c7">&quot;</span><span class="c3 c7">location</span><span class="c3 c7">&quot;</span><span>. By default, the server sorts the returned ads by performance. The performance of an </span><span class="c0">Ad</span><span>&nbsp;is calculated taking into account several factors: the total number of clicks, the total number of views, the click through rate, the cost per click. Basically, the ads that have a greater performance are those that get you a greater profit. </span></p><p class="c4 c2"><span>If you choose to sort the ads by location, the server will always return the nearest ads for the requested location. In this case, the ads will be sorted by distance.</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request ads from a location determined by a specific latitude and longitude, use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLatitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)latitude</span></p><p class="c2 c5"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;longitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)longitude;</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>This method is similar to </span><span class="c1">@selector</span><span class="c3">(requestAdsFromLocation:)</span><span>&nbsp;method, only that the location is given through the </span><span class="c3">latitude</span><span>&nbsp;and </span><span class="c3">longitude</span><span>&nbsp;parameters. This method is added only for your convenience.</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request more ads from a location determined by a specific latitude and longitude, use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLatitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)latitude</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;longitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)longitude</span></p><p class="c11 c5 c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;limit:(</span><span class="c3 c14">NSInteger</span><span class="c3">)limit;</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c4 c2"><span>This method is similar to </span><span class="c1">@selector</span><span class="c3">(requestAdsFromLocation:limit:)</span><span>&nbsp;method, only that the location is given through the </span><span class="c3">latitude</span><span>&nbsp;and </span><span class="c3">longitude</span><span>&nbsp;parameters. This method is added only for your convenience.</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to request more ads sorted by a specific criterion from a location determined by a specific latitude and longitude, use the following method:</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdsFromLatitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)latitude</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;longitude:(</span><span class="c3 c14">CLLocationDegrees</span><span class="c3">)longitude</span></p><p class="c11 c5 c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;limit:(</span><span class="c3 c14">NSInteger</span><span class="c3">)limit</span></p><p class="c5 c2 c15"><span class="c3">&nbsp; sortBy:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)sortOption;</span></p><p class="c5 c2 c6"><span class="c3"></span></p><p class="c4 c2"><span>This method is similar to </span><span class="c1">@selector</span><span class="c3">(requestAdsFromLocation:limit:sortBy:)</span><span>&nbsp;method, only that the location is given through the </span><span class="c3">latitude</span><span>&nbsp;and </span><span class="c3">longitude</span><span>&nbsp;parameters. This method is added only for your convenience.</span></p><p class="c2 c4"><span>To asynchronously request images or thumbnails when you have the ad&rsquo;s </span><span class="c0">imageUrl</span><span>&nbsp;and </span><span class="c0">thumbnailUrl</span><span>&nbsp;properties, you can use this method:</span></p><p class="c4 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestAdImageFromURL:(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*)url;</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>This method can be used to send multiple parallel image requests. This method will return </span><span class="c1">YES</span><span>&nbsp;when you request an image, unless there is another request for the same image. If a previous request with the same </span><span class="c3">url</span><span>&nbsp;was made, this method will return </span><span class="c1">NO</span><span>&nbsp;and it will not send a new request until the previous request will have finished.</span></p><p class="c4 c2 c6"><span class="c3"></span></p><p class="c4 c2"><span class="c10">Protocol </span><span class="c0 c10">AdsConnectDelegate</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>The </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol declares two methods that the </span><span class="c0">AdsConnect</span><span>&nbsp;delegate should implement. You must set the delegate of the </span><span class="c0">AdsConnect</span><span>&nbsp;object before requesting ads from our server. The delegate should conform to the </span><span class="c0">AdsConnectDelegate</span><span>&nbsp;protocol. The methods that your delegate object should implement are:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>to receive errors that prevent the request from completing successfully, implement this method:</span></li></ol><p class="c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidFailWithError:(</span><span class="c3 c14">NSError</span><span class="c3">&nbsp;*)error;</span></p><p class="c2 c6"><span></span></p><ol class="c20" start="1"><li class="c16 c2"><span>to receive server responses, implement this method:</span></li></ol><p class="c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidLoad:(</span><span class="c1">id</span><span class="c3">)result; </span><span>&nbsp;</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>The server response is already parsed into a </span><span class="c3">result</span><span>&nbsp;object. The </span><span class="c3">result</span><span>&nbsp;object may be an array (</span><span class="c3 c14">NSArray</span><span class="c3">&nbsp;*</span><span>), a</span><span>&nbsp;dictionary (</span><span class="c3 c14">NSDictionary</span><span class="c3">&nbsp;*</span><span>)</span><span>&nbsp;or a string (</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*</span><span>).</span></p><p class="c4 c2"><span>If everything goes well when you request ads, the result will be an array of ads. Each object in this array will be an </span><span class="c0">Ad</span><span>&nbsp;object. Using the </span><span class="c0">Ad</span><span>&nbsp;model you can quickly access all ad attributes and build a view for the ad.</span></p><p class="c4 c2"><span>Notice that the server may not always return ads. This can happen if your app key is invalid or if there are no ads near the requested location. In this case, the result will be a string containing a message that gives you an idea of the encountered problem.</span></p><p class="c4 c2"><span>When you request images, the result will be a dictionary with two key/value pairs: </span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>an </span><span class="c3 c14">NSURL</span><span>&nbsp;object with </span><span class="c3 c7">@&quot;url&quot;</span><span>&nbsp;</span><span>key, that represents the requested image URL;</span></li><li class="c5 c2 c16"><span>a </span><span class="c3 c14">UIImage</span><span>&nbsp;object with </span><span class="c3 c7">@&quot;image&quot;</span><span>&nbsp;</span><span>key, that represents the received image.</span></li></ol><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Your implementation of this method should look something like this:</span></p><p class="c5 c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adsRequestDidLoad:(</span><span class="c1">id</span><span class="c3">)result</span></p><p class="c2"><span class="c3">{</span></p><p class="c19 c2"><span class="c1">if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSDictionary</span><span class="c3">&nbsp;class]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(</span><span class="c3 c7">@&quot;Received image&quot;</span><span class="c3">);</span></p><p class="c22 c19 c2"><span class="c13 c3">// do something with the image</span></p><p class="c19 c2"><span class="c3">}</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">else if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSArray</span><span class="c3">&nbsp;</span><span class="c3 c14">class</span><span class="c3">]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(</span><span class="c3 c7">@&quot;Received ads array&quot;</span><span class="c3">);</span></p><p class="c22 c19 c2"><span class="c3 c13">// do something with the ads</span><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c19 c2"><span class="c3">}</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">else if</span><span class="c3">&nbsp;([result </span><span class="c3 c14">isKindOfClass</span><span class="c3">:[</span><span class="c3 c14">NSString class</span><span class="c3">]])</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c14">NSLog</span><span class="c3">(</span><span class="c3 c7">@&quot;Received fail message: %@&quot;</span><span class="c3">, result);</span></p><p class="c19 c2 c22"><span class="c13 c3">// do something to solve the situation</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c5 c2"><span class="c3">}</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>Note that you must release the result object yourself when you don&rsquo;t need it anymore.</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span class="c10">Class </span><span class="c0 c10">AdImageConnect</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span class="c0">AdImageConnect</span><span>&nbsp;is an internal class that handles image requests. It is used by the </span><span class="c0">AdsConnect</span><span>&nbsp;object to send parallel asynchronous image requests. Usually you don&rsquo;t need to use the </span><span class="c0">AdImageConnect</span><span>&nbsp;class directly. However, you may want to use it as a helper if you decide to handle image requests yourself.</span></p><p class="c4 c2"><span>Before requesting an image from a specific URL, an </span><span class="c0">AdImageConnect</span><span>&nbsp;object should be initialized with the desired image URL using this method:</span></p><p class="c4 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">id</span><span class="c3">)initWithURL:(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*)URL;</span></p><p class="c2 c6 c19"><span></span></p><p class="c4 c2"><span>To request an image (after the object has been initialized with a URL and the delegate property was set), use this method:</span></p><p class="c19 c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">BOOL</span><span class="c3">)requestImage;</span></p><p class="c19 c2 c6"><span></span></p><p class="c4 c2"><span>This method call will return </span><span class="c1">YES</span><span>&nbsp;when the request was successfully sent to the server. If the method returns </span><span class="c1">NO</span><span>, one of the following reasons may prevent it from sending the request to the ads server:</span></p><ol class="c20" start="1"><li class="c16 c5 c2"><span>a previous request didn&rsquo;t finish loading. Wait until your delegate object receives a response from the server.</span></li><li class="c16 c5 c2"><span>the </span><span class="c0">url</span><span>&nbsp;property is </span><span class="c1">nil</span><span>. You should use the &nbsp;</span><span class="c1">@selector</span><span class="c3">(initWithURL:)</span><span>&nbsp;to initialize an </span><span class="c0">AdImageConnect</span><span>&nbsp;object.</span></li><li class="c16 c5 c2"><span>you must set the delegate object. Your delegate object should conform to the </span><span class="c0">AdImageConnectDelegate</span><span>&nbsp;protocol.</span></li></ol><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span class="c10">Protocol </span><span class="c0 c10">AdImageConnectDelegate</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span>The </span><span class="c0">AdImageConnectDelegate</span><span>&nbsp;protocol declares two methods that the </span><span class="c0">AdImageConnect</span><span>&nbsp;delegate should implement. You must set the delegate of the </span><span class="c0">AdImageConnect</span><span>&nbsp;object before requesting images from the server. The methods that your delegate object should implement are:</span></p><ol class="c20" start="2"><li class="c16 c5 c2"><span>to receive errors that prevent the request from completing successfully, implement this method:</span></li></ol><p class="c2 c6"><span></span></p><p class="c5 c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adImageRequestDidFailWithError:(</span><span class="c3 c14">NSError</span><span class="c3">&nbsp;*)error</span></p><p class="c4 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;forURL:(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*)url;</span></p><p class="c19 c2 c6"><span></span></p><p class="c4 c2"><span>This method will return the encountered error and the requested URL. If an image request fails, there are two main reasons: you lost the Internet connection </span><span>or </span><span>the requested URL is not a valid image URL.</span></p><ol class="c20" start="2"><li class="c16 c5 c2"><span>to receive images for the server, implement this method:</span></li></ol><p class="c2 c6"><span></span></p><p class="c2"><span class="c3">- (</span><span class="c1">void</span><span class="c3">)adImageRequestDidLoad:(</span><span class="c3 c14">UIImage</span><span class="c3">&nbsp;*)result</span></p><p class="c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; forURL:(</span><span class="c3 c14">NSURL</span><span class="c3">&nbsp;*)url;</span></p><p class="c2 c6"><span></span></p><p class="c4 c2"><span>This method will return the downloaded image and the requested URL. The URL is returned only as a helper in case you need to identify the </span><span class="c0">AdImageConnect</span><span class="c31">&nbsp;</span><span>object that sent the request (when you have multiple </span><span class="c0">AdImageConnect</span><span>&nbsp;objects). The same thing applies if you need to identify an </span><span class="c0">Ad</span><span>&nbsp;object by </span><span class="c0">imageUrl</span><span>&nbsp;or </span><span class="c0">thumbnailUrl</span><span>&nbsp;in your ads array.</span></p><p class="c19 c2"><span>&nbsp;</span></p><p class="c4 c2"><span class="c10">Class </span><span class="c0 c10">AdsXMLParser</span><span class="c10">&nbsp;- General Overview</span></p><p class="c4 c2 c6"><span></span></p><p class="c4 c2"><span class="c0">AdsXMLParser</span><span>&nbsp;is an internal class (of the GeoAds iOS SDK) that parses the server XML response into an array of ads. Each object in this array is of </span><span class="c0">Ad</span><span>&nbsp;class. Usually you don&rsquo;t need to use the </span><span class="c0">AdsXMLParser</span><span>&nbsp;class directly. However, you may want to use this class methods if you decide to handle XML responses yourself.</span></p><p class="c4 c2"><span>The </span><span class="c0">AdsXMLParser</span><span>&nbsp;has no instance methods and there is no reason to create an object of this class. There are three class methods used by </span><span class="c0">AdsConnect</span><span>&nbsp;objects to parse the server XML response into an array of ads.</span></p><p class="c4 c2"><span>To parse the XML response and create an array of ads from the XML, use this class method:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">+ (</span><span class="c3 c14">NSArray</span><span class="c3">&nbsp;*)adsArrayFromXML:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)xml;</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The </span><span class="c3">xml</span><span>&nbsp;parameter should be an XML response from our ads server. Passing a different XML file to this method will not build an array of ads, even if the XML contains ads information.</span></p><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To obtain an XML where special XML characters (like &amp;amp; or &amp;#8217;) are converted to unicode characters, use this class method:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">+ (</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)convertSpecialCharactersToUnicodeInXML:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)xml;</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>The </span><span class="c3">xml</span><span>&nbsp;parameter can by any XML. This method will return an XML where the special characters are converted to unicode characters.</span></p><p class="c5 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To extract the content of a tag with a specific name from an XML, use this class method:</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2"><span class="c3">+ (</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)contentOfFirstTagWithName:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)tagName</span></p><p class="c5 c2"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fromXML:(</span><span class="c3 c14">NSString</span><span class="c3">&nbsp;*)xml;</span></p><p class="c5 c2 c6"><span></span></p><p class="c4 c2"><span>&nbsp;The </span><span class="c3">tagName</span><span>&nbsp;parameter should represent a tag name that can be found in the </span><span class="c3">xml</span><span>, otherwise this method will return an empty string: </span><span class="c3 c7">@</span><span class="c3 c7">&quot;&quot;</span><span>. If there are several tags with the same name, this method will return the contents of the first tag only. Unlike the first described class method, you can use this method to extract tags content from any XML.</span></p><p class="c5 c2 c6"><span></span></p><p class="c5 c2 c6"><span></span></p><p class="c12 c2"><span>If you have questions, suggestions or feedback, don&rsquo;t hesitate to contact </span><span>me</span><span>&nbsp;at:</span></p><p class="c12 c2"><span>radu.ionescu@viewlity.com</span></p><p class="c12 c2 c6"><span></span></p><p class="c12 c2"><span>&nbsp;</span><span>Thank you for choosing our platform!</span></p><p class="c4 c2 c6"><span class="c7"></span></p><p class="c4 c2 c6"><span></span></p></body></html>